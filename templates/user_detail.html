{% extends 'base.html' %}
{% set active_page = 'user_detail' %}
{% block title %}
User Detail
{% endblock %}
{% block content %}
<div class="jumbotron">
    <h1 class="text-center">User Info</h1>
    <hr>
    <h4>User Name: {{user.email if user.email is not none else 'Anonymous' }}</h4>
    <ul>
        <li>User ID: {{ user.user_id }}</li>
        <li>Age: {{user.age if user.age is not none else 'unknown' }}</li>
        <li>Zipcode: {{user.zipcode if user.zipcode is not none else 'unkown' }}</li>
    </ul>
    <h4 class="text-center">Average Rating</h4>
    <p class="text-center">
        {% for i in range(user_avg) %}
            &#9733;
        {% endfor %}
        {% for i in range(5-user_avg) %}
            &#9734;
        {% endfor %}
    </p>
</div>

<h1 class="text-center">Ratings by User #{{user.user_id}}</h1>

{% if ratings %}
    <ul class="list-group list-group-flush">
        {% for rating in ratings %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ rating.title }}
            <span class="badge">
                {% for i in range(rating.score) %}
                    &#9733;
                {% endfor %}
                {% for i in range(5-rating.score) %}
                    &#9734;
                {% endfor %}
            </span>
        </li>
        {% endfor %}
    </ul>
{% else %}
USER HAS NO RATINGS
{% endif %}

{% endblock %}